\hypertarget{classImmSWTool}{
\section{ImmSWTool Class Reference}
\label{classImmSWTool}\index{ImmSWTool@{ImmSWTool}}
}


{\ttfamily \#include $<$ImmSurgicalWorkstation.h$>$}

Inherits \hyperlink{classImmDevice3}{ImmDevice3}.

Inherited by \hyperlink{classImmSWToolJS}{ImmSWToolJS}.Collaboration diagram for ImmSWTool:\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual int \hyperlink{classImmSWTool_a69273959bd275761a2a8fa977aa5e143}{GetHandleTwist} (double $\ast$pHandleTwist)=0
\item 
virtual int \hyperlink{classImmSWTool_a4c7a89a86b16049db4a188948622b995}{GetHandleTwistVel} (double $\ast$pHandleTwistVel)=0
\item 
virtual int \hyperlink{classImmSWTool_a7ed10d0817049e1b8915c8a20439592c}{GetTipTwist} (double $\ast$pTipTwist)=0
\item 
virtual int \hyperlink{classImmSWTool_ac33ef554b842b02a5908e53e8234331a}{GetTipTwistVel} (double $\ast$pTipTwistVel)=0
\item 
virtual int \hyperlink{classImmSWTool_ae6e63083a9e1513a7639a27d550e2cf6}{GetGrippers} (double $\ast$pGrippers)=0
\item 
virtual int \hyperlink{classImmSWTool_a3f698e8f0e65e9fa5d4ce2fdd23c3840}{GetRawGrippers} (int $\ast$pRawGrippers)=0
\item 
virtual int \hyperlink{classImmSWTool_a6e0a696c62eb9b0ee26bbc81d22f1265}{GetPitch} (double $\ast$pPitch)=0
\item 
virtual int \hyperlink{classImmSWTool_a1f6c1a17ab9adf4dc6ee5fbb7587887e}{GetYaw} (double $\ast$pYaw)=0
\item 
virtual int \hyperlink{classImmSWTool_ad51506f94f40337033fb62afd199005b}{GetInsertionDepth} (double $\ast$pDepth)=0
\item 
virtual int \hyperlink{classImmSWTool_a2a20a7a1eacb97d9bf48044ca944b73c}{SetMoment} (\hyperlink{structImmCoord3}{ImmCoord3} $\ast$pMoment)=0
\item 
virtual int \hyperlink{classImmSWTool_a0cc829cca7970ef4d58e93f9e5553cd3}{SetHandleTwistTorque} (double twistTorque)=0
\item 
virtual int \hyperlink{classImmSWTool_acec85d7293923fd5acf507da0788ee15}{SetGripTorque} (double gripTorque)=0
\item 
virtual int \hyperlink{classImmSWTool_a80efdbd8d40aaf6a76ec5989a5e47b92}{SetTipParameters} (double length, double offset)=0
\item 
virtual int \hyperlink{classImmSWTool_afa3068b7a4575c255654378134f524c0}{GetTipParameters} (double $\ast$length, double $\ast$offset)=0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The \hyperlink{classImmSWTool}{ImmSWTool} class is an abstraction of the Surgical Workstation's Laproscopic haptic interface. This class derives from \hyperlink{classImmDevice3}{ImmDevice3} providing a convenient, uniform interface for haptic research and development. To instantiate an \hyperlink{classImmSWTool}{ImmSWTool} object, you cannot use an ordinary constructor; instead, you must construct its owner, a ImmSurgicalWorksation using the ImmSurgicalWorksationFactory class.

The \hyperlink{classImmSWTool}{ImmSWTool} class is not thread-\/safe. You must perform locking and synchronization on your own.

The following describes the general implementation philosophy of the \hyperlink{classImmSWTool}{ImmSWTool} class. The Get methods and the Set methods are very lightweight. They basically read or write to state variables. On the other hand, the Update method performs significant computation and resource management. Thus, you should not worry about calling the Get and Set methods often, but only call Update once per servo loop. 

\subsection{Member Function Documentation}
\hypertarget{classImmSWTool_ae6e63083a9e1513a7639a27d550e2cf6}{
\index{ImmSWTool@{ImmSWTool}!GetGrippers@{GetGrippers}}
\index{GetGrippers@{GetGrippers}!ImmSWTool@{ImmSWTool}}
\subsubsection[{GetGrippers}]{\setlength{\rightskip}{0pt plus 5cm}virtual int ImmSWTool::GetGrippers (double $\ast$ {\em pGrippers})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classImmSWTool_ae6e63083a9e1513a7639a27d550e2cf6}
Get the gripper extension. The gripper state is a value ranging from 0.0 (closed) to 1.0 (open). This range is determined by an automatic calibration procedure that is constantly performed as Update is called. To reset the automatic calibration, call Calibrate (which also resets the kinematic calibration).


\begin{DoxyParams}{Parameters}
\item[{\em pGrippers}]points to a double where the class' gripper extension value will be copied.\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
0 if successfull.

-\/1 if the device state needs updating with a call to Update.

-\/2 if pGrippers is NULL. 

Implements \hyperlink{classImmDevice3_ad83c6941b396eb3e8f3acee9ed7dacfb}{ImmDevice3}.\hypertarget{classImmSWTool_a69273959bd275761a2a8fa977aa5e143}{
\index{ImmSWTool@{ImmSWTool}!GetHandleTwist@{GetHandleTwist}}
\index{GetHandleTwist@{GetHandleTwist}!ImmSWTool@{ImmSWTool}}
\subsubsection[{GetHandleTwist}]{\setlength{\rightskip}{0pt plus 5cm}virtual int ImmSWTool::GetHandleTwist (double $\ast$ {\em pHandleTwist})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classImmSWTool_a69273959bd275761a2a8fa977aa5e143}
Get the handle twist, in radians.


\begin{DoxyParams}{Parameters}
\item[{\em pHandleTwist}]points to a double where the method will copy handlee twist scalar.\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
0 if successfull.

-\/1 if the device's internal state needs updating with a call to Update.

-\/2 if pHandleTwist is NULL. \hypertarget{classImmSWTool_a4c7a89a86b16049db4a188948622b995}{
\index{ImmSWTool@{ImmSWTool}!GetHandleTwistVel@{GetHandleTwistVel}}
\index{GetHandleTwistVel@{GetHandleTwistVel}!ImmSWTool@{ImmSWTool}}
\subsubsection[{GetHandleTwistVel}]{\setlength{\rightskip}{0pt plus 5cm}virtual int ImmSWTool::GetHandleTwistVel (double $\ast$ {\em pHandleTwistVel})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classImmSWTool_a4c7a89a86b16049db4a188948622b995}
Get the handle twist velocity, in radians per second.


\begin{DoxyParams}{Parameters}
\item[{\em pHandleTwistVel}]points to a double where the method will copy handle twist velocity.\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
0 if successfull.

-\/1 if the device state needs updating with a call to Update.

-\/2 if pHandleTwistVel is NULL. \hypertarget{classImmSWTool_ad51506f94f40337033fb62afd199005b}{
\index{ImmSWTool@{ImmSWTool}!GetInsertionDepth@{GetInsertionDepth}}
\index{GetInsertionDepth@{GetInsertionDepth}!ImmSWTool@{ImmSWTool}}
\subsubsection[{GetInsertionDepth}]{\setlength{\rightskip}{0pt plus 5cm}virtual int ImmSWTool::GetInsertionDepth (double $\ast$ {\em pDepth})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classImmSWTool_ad51506f94f40337033fb62afd199005b}
Get the tool's insertion depth, in mm.


\begin{DoxyParams}{Parameters}
\item[{\em pDepth}]points to memory where the tool's insertion depth will be copied.\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
0 if successfull.

-\/1 if the device state needs updating with a call to Update.

-\/2 if pDepth is NULL. \hypertarget{classImmSWTool_a6e0a696c62eb9b0ee26bbc81d22f1265}{
\index{ImmSWTool@{ImmSWTool}!GetPitch@{GetPitch}}
\index{GetPitch@{GetPitch}!ImmSWTool@{ImmSWTool}}
\subsubsection[{GetPitch}]{\setlength{\rightskip}{0pt plus 5cm}virtual int ImmSWTool::GetPitch (double $\ast$ {\em pPitch})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classImmSWTool_a6e0a696c62eb9b0ee26bbc81d22f1265}
Get the tool's gimbal pitch angle in radians.


\begin{DoxyParams}{Parameters}
\item[{\em pPitch}]points to a double where the tool's pitch value will be copied.\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
0 if successfull.

-\/1 if the device state needs updating with a call to Update.

-\/2 if pPitch is NULL. \hypertarget{classImmSWTool_a3f698e8f0e65e9fa5d4ce2fdd23c3840}{
\index{ImmSWTool@{ImmSWTool}!GetRawGrippers@{GetRawGrippers}}
\index{GetRawGrippers@{GetRawGrippers}!ImmSWTool@{ImmSWTool}}
\subsubsection[{GetRawGrippers}]{\setlength{\rightskip}{0pt plus 5cm}virtual int ImmSWTool::GetRawGrippers (int $\ast$ {\em pRawGrippers})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classImmSWTool_a3f698e8f0e65e9fa5d4ce2fdd23c3840}
Get the raw gripper encoder value. The raw encoder values range between a minimum and a maximum value. Although this minimum and maximum values will be different in different devices.


\begin{DoxyParams}{Parameters}
\item[{\em pRawGrippers}]points to an int where the class' raw gripper encoder value will be copied.\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
0 if successfull.

-\/1 if the device state needs updating with a call to Update.

-\/2 if pGrippers is NULL. \hypertarget{classImmSWTool_afa3068b7a4575c255654378134f524c0}{
\index{ImmSWTool@{ImmSWTool}!GetTipParameters@{GetTipParameters}}
\index{GetTipParameters@{GetTipParameters}!ImmSWTool@{ImmSWTool}}
\subsubsection[{GetTipParameters}]{\setlength{\rightskip}{0pt plus 5cm}virtual int ImmSWTool::GetTipParameters (double $\ast$ {\em length}, \/  double $\ast$ {\em offset})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classImmSWTool_afa3068b7a4575c255654378134f524c0}
Get a copy the tool's tip parameters.


\begin{DoxyParams}{Parameters}
\item[{\em length}]points to a double. The parameter specifies the extent to which the virtual tool tip length extends beyond the mechanical tool, along the logitudinal axis. The length is measured in mm.\item[{\em offset}]points to a double. The parameter specifies the extent to which the virtual tool tip is offset perpendicular to the longitudinal axis of the mechanical tool. . The offset is measured in mm.\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
0 if successfull.

-\/1 if the device state needs updating

-\/2 if either one of the parameters points to null mememory. \hypertarget{classImmSWTool_a7ed10d0817049e1b8915c8a20439592c}{
\index{ImmSWTool@{ImmSWTool}!GetTipTwist@{GetTipTwist}}
\index{GetTipTwist@{GetTipTwist}!ImmSWTool@{ImmSWTool}}
\subsubsection[{GetTipTwist}]{\setlength{\rightskip}{0pt plus 5cm}virtual int ImmSWTool::GetTipTwist (double $\ast$ {\em pTipTwist})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classImmSWTool_a7ed10d0817049e1b8915c8a20439592c}
Get the tip twist, in radians.


\begin{DoxyParams}{Parameters}
\item[{\em pTipTwist}]points to double where the tool's tip twist will be copied.\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
0 if successfull.

-\/1 if the device state needs updating with a call to Update.

-\/2 if pTipTwist is NULL. \hypertarget{classImmSWTool_ac33ef554b842b02a5908e53e8234331a}{
\index{ImmSWTool@{ImmSWTool}!GetTipTwistVel@{GetTipTwistVel}}
\index{GetTipTwistVel@{GetTipTwistVel}!ImmSWTool@{ImmSWTool}}
\subsubsection[{GetTipTwistVel}]{\setlength{\rightskip}{0pt plus 5cm}virtual int ImmSWTool::GetTipTwistVel (double $\ast$ {\em pTipTwistVel})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classImmSWTool_ac33ef554b842b02a5908e53e8234331a}
Get the tip twist Velocity, in radians per second.


\begin{DoxyParams}{Parameters}
\item[{\em pTipTwistVel}]points to a double where the tool's tip twist will be copied.\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
0 if successfull.

-\/1 if the device state needs updating with a call to Update.

-\/2 if pTipTwistVel is NULL. \hypertarget{classImmSWTool_a1f6c1a17ab9adf4dc6ee5fbb7587887e}{
\index{ImmSWTool@{ImmSWTool}!GetYaw@{GetYaw}}
\index{GetYaw@{GetYaw}!ImmSWTool@{ImmSWTool}}
\subsubsection[{GetYaw}]{\setlength{\rightskip}{0pt plus 5cm}virtual int ImmSWTool::GetYaw (double $\ast$ {\em pYaw})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classImmSWTool_a1f6c1a17ab9adf4dc6ee5fbb7587887e}
Get the yaw angle of the too's gimbal, in radians.


\begin{DoxyParams}{Parameters}
\item[{\em pYaw}]points to a double where the gimbal's yaw angle will be copied.\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
0 if successfull.

-\/1 if the device state needs updating with a call to Update.

-\/2 if pYaw is NULL. \hypertarget{classImmSWTool_acec85d7293923fd5acf507da0788ee15}{
\index{ImmSWTool@{ImmSWTool}!SetGripTorque@{SetGripTorque}}
\index{SetGripTorque@{SetGripTorque}!ImmSWTool@{ImmSWTool}}
\subsubsection[{SetGripTorque}]{\setlength{\rightskip}{0pt plus 5cm}virtual int ImmSWTool::SetGripTorque (double {\em gripTorque})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classImmSWTool_acec85d7293923fd5acf507da0788ee15}
Applies a torque, in mNm, to the grippers of the tool to open or close the grippers. For safety reasons, the torque is initialized to zero.


\begin{DoxyParams}{Parameters}
\item[{\em gripTorque}]specifies the scalar values of the torque to be applied to the tool's gripper. The magnitude will be trincated to a maximum value of 1736.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Always returns 0. 
\end{DoxyReturn}
\hypertarget{classImmSWTool_a0cc829cca7970ef4d58e93f9e5553cd3}{
\index{ImmSWTool@{ImmSWTool}!SetHandleTwistTorque@{SetHandleTwistTorque}}
\index{SetHandleTwistTorque@{SetHandleTwistTorque}!ImmSWTool@{ImmSWTool}}
\subsubsection[{SetHandleTwistTorque}]{\setlength{\rightskip}{0pt plus 5cm}virtual int ImmSWTool::SetHandleTwistTorque (double {\em twistTorque})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classImmSWTool_a0cc829cca7970ef4d58e93f9e5553cd3}
Applies a torque, in mNm, to directly twist the handle of the tool. This torque is in addition to any torque created due to an applied moment. For safety reasons, the torque is initialized to zero. Must call update before this torque will be reflected in the hardware.


\begin{DoxyParams}{Parameters}
\item[{\em twistTorque}]species the torque to be applied to the tool's handle.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Always returns 0. 
\end{DoxyReturn}
\hypertarget{classImmSWTool_a2a20a7a1eacb97d9bf48044ca944b73c}{
\index{ImmSWTool@{ImmSWTool}!SetMoment@{SetMoment}}
\index{SetMoment@{SetMoment}!ImmSWTool@{ImmSWTool}}
\subsubsection[{SetMoment}]{\setlength{\rightskip}{0pt plus 5cm}virtual int ImmSWTool::SetMoment ({\bf ImmCoord3} $\ast$ {\em pMoment})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classImmSWTool_a2a20a7a1eacb97d9bf48044ca944b73c}
Sets a Cartesian torque command vector (moment) for the endpoint of the tool. For safety reasons, the command torque is initialized to zero. The X-\/component corresponds to a torque around the X-\/axis, the Y-\/component corresponds to a torque around the Y-\/axis, and the Z-\/component corresponds to a torque around the Z-\/axis.


\begin{DoxyParams}{Parameters}
\item[{\em pMoment}]points to an \hyperlink{structImmCoord3}{ImmCoord3}, a three vector which specifies the moment to apply to the tool's end-\/effector.\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
0 if successfull.

-\/1 if the device state needs updating with a call to Update.

-\/2 if pMoment is NULL. \hypertarget{classImmSWTool_a80efdbd8d40aaf6a76ec5989a5e47b92}{
\index{ImmSWTool@{ImmSWTool}!SetTipParameters@{SetTipParameters}}
\index{SetTipParameters@{SetTipParameters}!ImmSWTool@{ImmSWTool}}
\subsubsection[{SetTipParameters}]{\setlength{\rightskip}{0pt plus 5cm}virtual int ImmSWTool::SetTipParameters (double {\em length}, \/  double {\em offset})\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classImmSWTool_a80efdbd8d40aaf6a76ec5989a5e47b92}
Describes the shape of the tool's tip by specifying its length and offset. This affects the value returned by GetPosition. The length is how far the tip extends above or below the end of the shaft and offset describes how far the tip sticks out from the side of the shaft at a right angle. Both of these values are in millimeters.


\begin{DoxyParams}{Parameters}
\item[{\em length}]specifies the length of the tool tip, in millimeters. If the tip extends above the end of the shaft, pass a negative value.\item[{\em offset}]specifies how far the tip extends out along a right angle to the tool tip, in millimeters.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Always returns 0. 
\end{DoxyReturn}


The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
Haptics/ImmSurgicalWorkstation.h\end{DoxyCompactItemize}
